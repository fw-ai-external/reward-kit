# Hydra Configuration for convert_dataset.py

hydra:
  run:
    # Hydra's output directory, can be overridden.
    # Default is outputs/YYYY-MM-DD/HH-MM-SS
    dir: ./outputs/${now:%Y-%m-%d}/${now:%H-%M-%S}
  job_logging:
    root:
      level: INFO
  sweep: # Default sweeper config
    dir: ./multirun/${now:%Y-%m-%d}/${now:%H-%M-%S}
    subdir: ${hydra.job.num}


# Name of the dataset configuration to load from /workspace/reward-kit/conf/dataset/
# Example: "gsm8k" to load /workspace/reward-kit/conf/dataset/gsm8k.yaml
dataset_config_name: "gsm8k" # Default to gsm8k for now, user should override

# Script-specific parameters for how to use the loaded dataset
dataset_usage:
  # HuggingFace dataset config name (e.g., "main" for gsm8k, "default" for openbookqa)
  config_name: null
  split: "train"                      # Default dataset split

  # Column names in the source dataset (specific to this script's needs for query, assistant response, and ground truth)
  query_column: "problem"
  solution_column_for_assistant: "solution"
  ground_truth_answer_column: "answer"

# Parameters for processing the dataset (these are specific to the conversion script)
processing:
  filter_by_match: false              # Enable filtering by matching solution to ground truth
  math_type: "numeric"                # Type of math reward for filtering: "numeric", "mcq", "list"

# Parameters for the output
output:
  # Path for the output JSONL file.
  # If relative, it will be inside Hydra's output directory (hydra.run.dir).
  # If absolute, it will be used as is.
  file_path: "converted_dataset.jsonl"
